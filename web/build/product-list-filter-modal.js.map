{"version":3,"sources":["webpack:///./node_modules/progressive-web-sdk/dist/components/accordion/accordion-item.js","webpack:///./node_modules/progressive-web-sdk/dist/components/accordion/index.js","webpack:///./app/containers/product-list/selectors.js","webpack:///./node_modules/progressive-web-sdk/dist/components/accordion/accordion-item-content.js","webpack:///./node_modules/progressive-web-sdk/dist/components/accordion/accordion.js","webpack:///./app/components/product-filter/index.jsx","webpack:///./app/modals/product-list-filter/index.jsx"],"names":["Object","defineProperty","exports","value","_getPrototypeOf2","_interopRequireDefault","__webpack_require__","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_react2","_propTypes2","_classnames2","_icon2","_accordionItemContent2","_dataObjects","_a11yUtils","_uuidUtils2","_TransitionGroup2","obj","__esModule","default","AccordionItem","_React$Component","props","this","_this","__proto__","call","id","itemId","onClick","bind","onAnimationComplete","key","e","onHeaderClick","nextProps","_props","shown","onOpen","onClose","_props2","onOpened","onClosed","_this2","_props3","children","className","prerender","header","openIconName","closeIconName","iconSize","iconPosition","duration","easing","classes","pw-accordion--is-open","pw-accordion--is-prerender","headerId","contentId","createElement","ref","el","_container","onKeyUp","onKeyUpWrapper","tabIndex","role","aria-expanded","aria-selected","aria-controls","type","data-analytics-name","UI_NAME","collapse","expand","accordion","data-analytics-content","aria-hidden","size","name","component","aria-labelledby","Component","defaultProps","propTypes","node","string","number","oneOf","bool","func","Accordion","undefined","_accordion2","_accordionItem2","d","__webpack_exports__","getUIState","getCategory","getCategoryPath","getProductSearch","immutable__WEBPACK_IMPORTED_MODULE_0__","immutable__WEBPACK_IMPORTED_MODULE_0___default","n","reselect__WEBPACK_IMPORTED_MODULE_1__","_store_selectors__WEBPACK_IMPORTED_MODULE_2__","json_stable_stringify__WEBPACK_IMPORTED_MODULE_3__","json_stable_stringify__WEBPACK_IMPORTED_MODULE_3___default","createSelector","getUi","_ref","productList","Immutable","Map","getUIStateKey","uiState","stringify","toJS","getCurrentCategoryId","getIn","getCategories","categoryId","categories","get","currentCategory","path","List","category","unshift","title","parentId","href","url","pageMeta","getProductSearches","uiStateKey","productSearches","_promise2","AccordionItemContent","state","fullHeight","style","maxHeight","transition","animate","getFullHeight","triggerAnimate","callback","_this3","setState","start","end","_this4","frame","resolve","requestAnimationFrame","then","setTimeout","_content","offsetHeight","_this5","_toConsumableArray3","_utils","remappedOpenItems","initialOpenItems","map","toString","openItems","updateItem","openItem","closeItem","mapChildren","opening","Children","toArray","find","child","concat","openItemArrayIndex","indexOf","alreadyOpen","singleItemOpen","push","splice","ids","index","childProps","cloneElement","aria-multiselectable","noop","array","ProductFilter","isRunningInAstro","productSearch","_ref2$filters","filters","react__WEBPACK_IMPORTED_MODULE_2___default","a","progressive_web_sdk_dist_components_accordion__WEBPACK_IMPORTED_MODULE_12__","_ref3","label","ruleset","kinds","filter","_ref4","count","_ref5","query","searchKey","searchState","babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default","progressive_web_sdk_dist_components_button__WEBPACK_IMPORTED_MODULE_13___default","innerClassName","window","location","anchor","document","historyEntry","pathname","queryString","parse","search","browserHistory","replace","goToURL","urlMapper","getSearchUrl","showFilters","PropTypes","object","mapStateToProps","createPropsSelector","selectors","connect","ProductListFilterModal","openModal","closeModal","isOpen","react__WEBPACK_IMPORTED_MODULE_4___default","progressive_web_sdk_dist_components_sheet__WEBPACK_IMPORTED_MODULE_13___default","open","onDismiss","maskOpacity","effect","shrinkToContent","coverage","progressive_web_sdk_dist_components_header_bar__WEBPACK_IMPORTED_MODULE_12__","_components_icon_label_button__WEBPACK_IMPORTED_MODULE_14__","iconName","analyticsName","dismissModal","_components_product_filter__WEBPACK_IMPORTED_MODULE_15__","React","isModalOpen","PRODUCT_LIST_FILTER_MODAL","mapDispatchToProps"],"mappings":"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","file":"product-list-filter-modal.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _accordionItemContent = require('./accordion-item-content');\n\nvar _accordionItemContent2 = _interopRequireDefault(_accordionItemContent);\n\nvar _dataObjects = require('../../analytics/data-objects/');\n\nvar _a11yUtils = require('../../a11y-utils');\n\nvar _uuidUtils = require('../../utils/uuid-utils');\n\nvar _uuidUtils2 = _interopRequireDefault(_uuidUtils);\n\nvar _TransitionGroup = require('react-transition-group/TransitionGroup');\n\nvar _TransitionGroup2 = _interopRequireDefault(_TransitionGroup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Related components:\n *\n * * [AccordionItemContent](#!/AccordionItemContent)\n * * [Accordion](#!/Accordion)\n *\n * `AccordionItem` acts as expandable container for the accordion's content.\n *\n * @example ./DESIGN.md\n */\n\nvar AccordionItem = function (_React$Component) {\n    (0, _inherits3.default)(AccordionItem, _React$Component);\n\n    function AccordionItem(props) {\n        (0, _classCallCheck3.default)(this, AccordionItem);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AccordionItem.__proto__ || (0, _getPrototypeOf2.default)(AccordionItem)).call(this, props));\n\n        _this.id = (0, _uuidUtils2.default)();\n        _this.itemId = 'accordion__item-' + _this.id;\n        _this.onClick = _this.onClick.bind(_this);\n        _this.onAnimationComplete = _this.onAnimationComplete.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(AccordionItem, [{\n        key: 'onClick',\n        value: function onClick(e) {\n            this.props.onHeaderClick(e);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var _props = this.props,\n                shown = _props.shown,\n                onOpen = _props.onOpen,\n                onClose = _props.onClose;\n\n\n            if (nextProps.shown === shown) {\n                return;\n            }\n\n            if (nextProps.shown) {\n                onOpen(this.itemId);\n            } else {\n                onClose(this.itemId);\n            }\n        }\n    }, {\n        key: 'onAnimationComplete',\n        value: function onAnimationComplete() {\n            var _props2 = this.props,\n                shown = _props2.shown,\n                onOpened = _props2.onOpened,\n                onClosed = _props2.onClosed;\n\n\n            if (shown) {\n                onOpened(this.itemId);\n            } else {\n                onClosed(this.itemId);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props3 = this.props,\n                children = _props3.children,\n                className = _props3.className,\n                shown = _props3.shown,\n                prerender = _props3.prerender,\n                header = _props3.header,\n                openIconName = _props3.openIconName,\n                closeIconName = _props3.closeIconName,\n                iconSize = _props3.iconSize,\n                iconPosition = _props3.iconPosition,\n                duration = _props3.duration,\n                easing = _props3.easing;\n\n\n            var classes = (0, _classnames2.default)('pw-accordion__item', {\n                'pw-accordion--is-open': shown,\n                'pw-accordion--is-prerender': prerender && !shown\n            }, className);\n\n            var headerId = 'accordion__header-' + this.id;\n            var contentId = 'accordion__content-' + this.id;\n\n            return _react2.default.createElement(\n                'div',\n                { className: classes, id: this.itemId, ref: function ref(el) {\n                        _this2._container = el;\n                    } },\n                _react2.default.createElement(\n                    'button',\n                    { className: 'pw-accordion__header',\n                        onClick: this.onClick,\n                        onKeyUp: (0, _a11yUtils.onKeyUpWrapper)(this.onClick),\n                        tabIndex: '0',\n                        role: 'tab',\n                        'aria-expanded': shown,\n                        'aria-selected': shown,\n                        'aria-controls': contentId,\n                        id: headerId,\n                        type: 'button',\n                        'data-analytics-name': (shown ? _dataObjects.UI_NAME.collapse : _dataObjects.UI_NAME.expand) + '_' + _dataObjects.UI_NAME.accordion,\n                        'data-analytics-content': header\n                    },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'pw-accordion__inner-header pw--icon-' + iconPosition },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'pw-accordion__icon', 'aria-hidden': 'true' },\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'pw-accordion__open-icon' },\n                                _react2.default.createElement(_icon2.default, { className: 'pw-accordion__glyph', size: iconSize, name: openIconName })\n                            ),\n                            _react2.default.createElement(\n                                'div',\n                                { className: 'pw-accordion__close-icon' },\n                                _react2.default.createElement(_icon2.default, { className: 'pw-accordion__glyph', size: iconSize, name: closeIconName })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'pw-accordion__title' },\n                            header\n                        )\n                    )\n                ),\n                !shown && prerender && _react2.default.createElement(\n                    _accordionItemContent2.default,\n                    null,\n                    children\n                ),\n                _react2.default.createElement(\n                    _TransitionGroup2.default,\n                    {\n                        component: 'div',\n                        role: 'tabpanel',\n                        id: contentId,\n                        'aria-hidden': !shown,\n                        'aria-labelledby': headerId,\n                        tabIndex: shown ? 0 : -1\n                    },\n                    shown && _react2.default.createElement(\n                        _accordionItemContent2.default,\n                        {\n                            onAnimationComplete: this.onAnimationComplete,\n                            duration: duration,\n                            easing: easing\n                        },\n                        children\n                    )\n                )\n            );\n        }\n    }]);\n    return AccordionItem;\n}(_react2.default.Component); /* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n/* Copyright (c) 2018 Mobify Research & Development Inc. All rights reserved. */\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n\nAccordionItem.defaultProps = {\n    closeIconName: 'minus',\n    iconPosition: 'start',\n    openIconName: 'plus'\n};\n\nAccordionItem.propTypes = {\n    /**\n     * Whatever you'd like this AccordionItem to display.\n     * This can also include more Accordions.\n     */\n    children: _propTypes2.default.node,\n\n    /**\n     * Adds values to the `class` attribute of the root element.\n     */\n    className: _propTypes2.default.string,\n\n    /**\n     * The name of the icon shown in the header\n     * when the accordion can be closed.\n     */\n    closeIconName: _propTypes2.default.string,\n\n    /**\n     * PROVIDED INTERNALLY. Duration of the animation in millis.\n     */\n    duration: _propTypes2.default.number,\n\n    /**\n     * PROVIDED INTERNALLY. Easing function for the animation.\n     */\n    easing: _propTypes2.default.string,\n\n    /**\n     * The content that should be displayed as the header.\n     */\n    header: _propTypes2.default.node,\n\n    /**\n     * Determines whether the icons should be placed before or after the title.\n     */\n    iconPosition: _propTypes2.default.oneOf(['start', 'end']),\n\n    /**\n     * Passes a custom className to the Accordion Item's icon.\n     */\n    iconSize: _propTypes2.default.string,\n\n    /**\n     * A unique identifier for this AccordionItem.\n     * It is highly recommended that you provide an id for each AccordionItem.\n     */\n    id: _propTypes2.default.string,\n\n    /**\n     * The name of the icon shown in the header\n     * when the accordion can be opened.\n     */\n    openIconName: _propTypes2.default.string,\n\n    /**\n     * This is used by Accordion to prerender the content before openning it.\n     */\n    prerender: _propTypes2.default.bool,\n\n    /**\n     * PROVIDED INTERNALLY. This is used by Accordion to open and close the items\n     */\n    shown: _propTypes2.default.bool,\n\n    /**\n     * Triggered every time an accordion item is\n     * starting to close.  This function is passed the id of the\n     * accordion item which is closing.\n     */\n    onClose: _propTypes2.default.func,\n\n    /**\n     * Triggered every time an accordion item is\n     * finished closing.  This function is passed the id of the\n     * accordion item which closed.\n     */\n    onClosed: _propTypes2.default.func,\n\n    /**\n     * PROVIDED INTERNALLY. This is the callback used by Accordion to\n     * open and close the items.\n     */\n    onHeaderClick: _propTypes2.default.func,\n\n    /**\n     * Triggered every time an accordion item is\n     * starting to open.  This function is passed the id of the\n     * accordion item which is opening.\n     */\n    onOpen: _propTypes2.default.func,\n\n    /**\n     * Triggered every time an accordion item has\n     * finished opening.  This function is passed the id of the\n     * accordion item which opened.\n     */\n    onOpened: _propTypes2.default.func\n};\n\nexports.default = AccordionItem;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AccordionItem = exports.Accordion = undefined;\n\nvar _accordion = require('./accordion');\n\nvar _accordion2 = _interopRequireDefault(_accordion);\n\nvar _accordionItem = require('./accordion-item');\n\nvar _accordionItem2 = _interopRequireDefault(_accordionItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n/* Copyright (c) 2018 Mobify Research & Development Inc. All rights reserved. */\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n\nexports.Accordion = _accordion2.default;\nexports.AccordionItem = _accordionItem2.default;","/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n/* Copyright (c) 2018 Mobify Research & Development Inc. All rights reserved. */\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n\nimport Immutable from 'immutable'\nimport {createSelector} from 'reselect'\nimport {getCategories, getProductSearches, getUi} from '../../store/selectors'\nimport stringify from 'json-stable-stringify'\n\n// Selectors for UI\n\nexport const getUIState = createSelector(\n    getUi,\n    ({productList}) => productList || Immutable.Map()\n)\n\nexport const getUIStateKey = createSelector(\n    getUIState,\n    (uiState) => stringify(uiState.toJS())\n)\n\n// Selectors for Data\n\nexport const getCurrentCategoryId = createSelector(\n    getUIState,\n    (uiState) => uiState.getIn(['filters', 'cgid'], '')\n)\n\nexport const getCategory = createSelector(\n    getCurrentCategoryId,\n    getCategories,\n    (categoryId, categories) => categories.get(categoryId)\n)\n\nexport const getCategoryPath = createSelector(\n    getCategory,\n    getCategories,\n    (currentCategory, categories) => {\n        let path = Immutable.List()\n\n        if (!currentCategory) { return path }\n\n        let category = currentCategory\n\n        while (category) {\n            path = path.unshift(category)\n            category = categories.get(category.get('parentId'))\n        }\n\n        // Add the root category onto the path.\n        // TODO: This category should be in the categories store, but currently we\n        // aren't loading all categories on app load.\n        path = path.unshift({\n            id: 'home',\n            title: 'Home',\n            parentId: null,\n            href: '/',\n            url: '/',\n            pageMeta: {},\n        })\n\n        return path\n    }\n)\n\nexport const getProductSearch = createSelector(\n    getUIStateKey,\n    getProductSearches,\n    (uiStateKey, productSearches) => productSearches.get(uiStateKey)\n)\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Related components:\n *\n * * [AccordionItem](#!/AccordionItem)\n * * [Accordion](#!/Accordion)\n *\n * This component is for internal use only within the AccordionItem.\n *\n * @example ./DESIGN.md\n */\n\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n/* Copyright (c) 2018 Mobify Research & Development Inc. All rights reserved. */\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n\nvar AccordionItemContent = function (_React$Component) {\n    (0, _inherits3.default)(AccordionItemContent, _React$Component);\n\n    function AccordionItemContent(props) {\n        (0, _classCallCheck3.default)(this, AccordionItemContent);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AccordionItemContent.__proto__ || (0, _getPrototypeOf2.default)(AccordionItemContent)).call(this, props));\n\n        _this.state = {\n            fullHeight: 0,\n            style: {\n                maxHeight: '0px',\n                transition: 'none'\n            }\n        };\n\n        _this.animate = _this.animate.bind(_this);\n        _this.getFullHeight = _this.getFullHeight.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(AccordionItemContent, [{\n        key: 'componentDidAppear',\n        value: function componentDidAppear() {\n            this.triggerAnimate();\n        }\n    }, {\n        key: 'componentDidEnter',\n        value: function componentDidEnter() {\n            this.triggerAnimate();\n        }\n    }, {\n        key: 'componentWillLeave',\n        value: function componentWillLeave(callback) {\n            var _this2 = this;\n\n            var complete = function complete() {\n                _this2.props.onAnimationComplete();\n                callback();\n            };\n\n            this.animate(this.getFullHeight(), 0, complete);\n        }\n    }, {\n        key: 'triggerAnimate',\n        value: function triggerAnimate() {\n            var _this3 = this;\n\n            var complete = function complete() {\n                // After the content has fully opened,\n                // remove the set height so the content can grow as needed\n                _this3.setState({\n                    style: {\n                        maxHeight: 'initial',\n                        transition: 'none'\n                    }\n                });\n\n                _this3.props.onAnimationComplete();\n            };\n\n            this.animate(0, this.getFullHeight(), complete);\n        }\n    }, {\n        key: 'animate',\n        value: function animate(start, end, callback) {\n            var _this4 = this;\n\n            var _props = this.props,\n                duration = _props.duration,\n                easing = _props.easing;\n\n\n            var frame = function frame() {\n                return new _promise2.default(function (resolve) {\n                    requestAnimationFrame(resolve);\n                });\n            };\n\n            var setStartState = function setStartState() {\n                return new _promise2.default(function (resolve) {\n                    var state = {\n                        style: {\n                            maxHeight: start + 'px',\n                            transition: 'none'\n                        }\n                    };\n                    _this4.setState(state, resolve);\n                });\n            };\n\n            var setEndState = function setEndState() {\n                return new _promise2.default(function (resolve) {\n                    var state = {\n                        style: {\n                            maxHeight: end + 'px',\n                            transition: 'max-height ' + duration / 1000 + 's ' + easing\n                        }\n                    };\n                    _this4.setState(state, resolve);\n                });\n            };\n\n            var waitForAnimation = function waitForAnimation() {\n                setTimeout(callback, duration);\n            };\n\n            frame().then(setStartState).then(frame).then(setEndState).then(waitForAnimation);\n        }\n    }, {\n        key: 'getFullHeight',\n        value: function getFullHeight() {\n            return this._content.children[0].offsetHeight;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            var children = this.props.children;\n\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'pw-accordion__content-wrapper',\n                    ref: function ref(el) {\n                        _this5._content = el;\n                    },\n                    style: this.state.style\n                },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'pw-accordion__content', role: 'presentation' },\n                    children\n                )\n            );\n        }\n    }]);\n    return AccordionItemContent;\n}(_react2.default.Component);\n\nAccordionItemContent.propTypes = {\n    /**\n     * PROVIDED INTERNALLY. Whatever you'd like this AccordionItem to display.\n     */\n    children: _propTypes2.default.node,\n\n    /**\n     * PROVIDED INTERNALLY. Duration of the animation in millis.\n     */\n    duration: _propTypes2.default.number,\n\n    /**\n     * PROVIDED INTERNALLY. Easing function for the animation.\n     */\n    easing: _propTypes2.default.string,\n\n    /**\n     * PROVIDED INTERNALLY. Triggered every time the content has finished animating.\n     */\n    onAnimationComplete: _propTypes2.default.func\n};\n\nexports.default = AccordionItemContent;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _accordionItem = require('./accordion-item');\n\nvar _accordionItem2 = _interopRequireDefault(_accordionItem);\n\nvar _utils = require('../../utils/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Related components:\n *\n * * [AccordionItemContent](#!/AccordionItemContent)\n * * [AccordionItem](#!/AccordionItem)\n *\n * `Accordion` is the outer wrapper of expandable content.\n * It is used to expand and collapse the content by clicking its header.\n *\n * @example ./DESIGN.md\n */\n\nvar Accordion = function (_React$Component) {\n    (0, _inherits3.default)(Accordion, _React$Component);\n\n    function Accordion(props) {\n        (0, _classCallCheck3.default)(this, Accordion);\n\n        // With older versions of the Accordion component\n        // initialOpenItems was passed indices, rather than the ids\n        // To allow projects using those versions to use the new structure without breaking changes,\n        // we need to transform these indices into their equivalent default ids\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Accordion.__proto__ || (0, _getPrototypeOf2.default)(Accordion)).call(this, props));\n\n        var remappedOpenItems = props.initialOpenItems.map(function (id) {\n            return id.toString();\n        });\n\n        _this.state = {\n            openItems: remappedOpenItems\n        };\n\n        _this.onClick = _this.onClick.bind(_this);\n\n        _this.updateItem = _this.updateItem.bind(_this);\n        _this.openItem = _this.openItem.bind(_this);\n        _this.closeItem = _this.closeItem.bind(_this);\n        _this.mapChildren = _this.mapChildren.bind(_this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(Accordion, [{\n        key: 'updateItem',\n        value: function updateItem(id, opening) {\n            var childrenAsArray = _react2.default.Children.toArray(this.mapChildren());\n            var childWithId = childrenAsArray.find(function (child) {\n                return child.props.id === id;\n            });\n\n            if (!childWithId) {\n                return;\n            }\n\n            var openItems = [].concat((0, _toConsumableArray3.default)(this.state.openItems));\n            var openItemArrayIndex = openItems.indexOf(id);\n            var alreadyOpen = openItemArrayIndex !== -1;\n\n            if (opening) {\n                if (this.props.singleItemOpen) {\n                    openItems = [id];\n                } else if (!alreadyOpen) {\n                    // Don't push multiple copies of the same index into openItems\n                    openItems.push(id);\n                }\n            } else {\n                if (this.props.singleItemOpen) {\n                    openItems = [];\n                } else if (alreadyOpen) {\n                    openItems.splice(openItemArrayIndex, 1);\n                }\n            }\n\n            this.setState({ openItems: openItems });\n        }\n    }, {\n        key: 'onClick',\n        value: function onClick(id) {\n            var openItems = this.state.openItems;\n            var openItemArrayIndex = openItems.indexOf(id);\n\n            this.updateItem(id, openItemArrayIndex === -1);\n        }\n    }, {\n        key: 'openItem',\n        value: function openItem(id) {\n            this.updateItem(id, true);\n        }\n    }, {\n        key: 'closeItem',\n        value: function closeItem(id) {\n            this.updateItem(id, false);\n        }\n    }, {\n        key: 'openAllItems',\n        value: function openAllItems() {\n            var ids = _react2.default.Children.map(this.mapChildren(), function (child) {\n                return child.props.id;\n            });\n            this.setState({\n                openItems: ids\n            });\n        }\n    }, {\n        key: 'closeAllItems',\n        value: function closeAllItems() {\n            this.setState({\n                openItems: []\n            });\n        }\n\n        // We want to make sure that anytime\n        // we access the children to check their ids\n        // that we're using the version of the children\n        // where we provided default ids if none were defined\n\n    }, {\n        key: 'mapChildren',\n        value: function mapChildren() {\n            var _this2 = this;\n\n            var _props = this.props,\n                duration = _props.duration,\n                easing = _props.easing,\n                onOpen = _props.onOpen,\n                onOpened = _props.onOpened,\n                onClose = _props.onClose,\n                onClosed = _props.onClosed,\n                prerender = _props.prerender,\n                children = _props.children;\n\n\n            return _react2.default.Children.map(children, function (child, index) {\n                // If the user is using && to conditionally add a child\n                // the child could be undefined\n                if (child && child.type && child.type.name === _accordionItem2.default.name) {\n                    var id = child.props.id || index.toString();\n\n                    var childProps = {\n                        onHeaderClick: _this2.onClick.bind(_this2, id),\n                        shown: _this2.state.openItems.indexOf(id) > -1,\n                        prerender: prerender,\n                        duration: duration,\n                        easing: easing,\n                        key: id,\n                        // Set this again it wasn't provided and we're using the index\n                        id: id\n\n                        // Allow callbacks added to the AccordionItem directly\n                        // to override ones added to the Accordion\n                    };if (!child.props.onOpen) {\n                        childProps.onOpen = onOpen;\n                    }\n\n                    if (!child.props.onOpened) {\n                        childProps.onOpened = onOpened;\n                    }\n\n                    if (!child.props.onClose) {\n                        childProps.onClose = onClose;\n                    }\n\n                    if (!child.props.onClosed) {\n                        childProps.onClosed = onClosed;\n                    }\n\n                    return _react2.default.cloneElement(child, childProps);\n                } else {\n                    return child;\n                }\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props,\n                className = _props2.className,\n                singleItemOpen = _props2.singleItemOpen;\n\n\n            var classes = (0, _classnames2.default)('pw-accordion', className);\n\n            return _react2.default.createElement(\n                'div',\n                { className: classes, 'aria-multiselectable': !singleItemOpen, role: 'tablist' },\n                this.mapChildren()\n            );\n        }\n    }]);\n    return Accordion;\n}(_react2.default.Component); /* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n/* Copyright (c) 2018 Mobify Research & Development Inc. All rights reserved. */\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n\nAccordion.defaultProps = {\n    onOpen: _utils.noop,\n    onOpened: _utils.noop,\n    onClose: _utils.noop,\n    onClosed: _utils.noop,\n    duration: 500,\n    easing: 'ease',\n    singleItemOpen: false,\n    initialOpenItems: []\n};\n\nAccordion.propTypes = {\n    /**\n     * This list of <AccordionItem>s you'd like to display.\n     */\n    children: _propTypes2.default.node,\n\n    /**\n     * Adds values to the `class` attribute of the root element.\n     */\n    className: _propTypes2.default.string,\n\n    /**\n     * Duration of the animation in millis.\n     */\n    duration: _propTypes2.default.number,\n\n    /**\n     * Easing function for the animation.\n     */\n    easing: _propTypes2.default.string,\n\n    /**\n     * If an item should be open by default, include its id in this array.\n     * In order to support the old version where this prop accepted indices,\n     * all items in this array will be converted into strings.\n     */\n    initialOpenItems: _propTypes2.default.array,\n\n    /**\n     * Determines whether the content is available in DOM before opening the accordion\n     */\n    prerender: _propTypes2.default.bool,\n\n    /**\n     * When set to true will force only one item open at a time.\n     */\n    singleItemOpen: _propTypes2.default.bool,\n\n    /**\n     * Triggered every time an accordion item is starting to close.\n     * This function is passed the id of the accordion item which is closing.\n     * This prop can also be passed to an AccordionItem.\n     */\n    onClose: _propTypes2.default.func,\n\n    /**\n     * Triggered every time an accordion item is finished closing.\n     * This function is passed the id of the accordion item which closed.\n     * This prop can also be passed to an AccordionItem.\n     */\n    onClosed: _propTypes2.default.func,\n\n    /**\n     * Triggered every time an accordion item is starting to open.\n     * This function is passed the id of the accordion item which is opening.\n     * This prop can also be passed to an AccordionItem.\n     */\n    onOpen: _propTypes2.default.func,\n\n    /**\n     * Triggered every time an accordion item has finished opening.\n     * This function is passed the id of the accordion item which opened.\n     * This prop can also be passed to an AccordionItem.\n     */\n    onOpened: _propTypes2.default.func\n};\n\nexports.default = Accordion;","/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n/* Copyright (c) 2018 Mobify Research & Development Inc. All rights reserved. */\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux'\nimport {createPropsSelector} from 'reselect-immutable-helpers'\nimport queryString from 'query-string'\n\nimport {UI_NAME} from 'progressive-web-sdk/dist/analytics/data-objects/'\nimport {browserHistory} from 'progressive-web-sdk/dist/routing'\n\nimport {isRunningInAstro} from '../../containers/app/selectors'\nimport * as selectors from '../../containers/product-list/selectors'\n\nimport urlMapper from '../../config/url-mapper'\n\nimport {Accordion, AccordionItem} from 'progressive-web-sdk/dist/components/accordion'\nimport Button from 'progressive-web-sdk/dist/components/button'\n\n\nconst goToURL = (url, isRunningInAstro) => {\n    if (url === window.location.href) { return }\n\n    // Use a dom anchor as a parser.\n    const anchor = document.createElement('a')\n    anchor.href = url\n\n    const historyEntry = {\n        pathname: anchor.pathname,\n        query: queryString.parse(anchor.search)\n    }\n\n    if (isRunningInAstro) {\n        browserHistory.replace(historyEntry)\n    } else {\n        browserHistory.push(historyEntry)\n    }\n}\n\n\nconst ProductFilter = ({isRunningInAstro, productSearch, uiState}) => {\n\n    const {filters = []} = productSearch || {}\n\n    return (\n        <Accordion\n            className=\"c-product-filter\"\n            initialOpenItems={[0]}>\n            {filters.map(({label, ruleset, kinds}) =>\n                <AccordionItem header={label} key={ruleset} className=\"u-padding-0\">\n                    {/* disabling a11y lints–the handler below is\n                    for the bubbled events from the children button elements */}\n                    {/* eslint-disable\n                        jsx-a11y/click-events-have-key-events,\n                        jsx-a11y/onclick-has-focus,\n                        jsx-a11y/onclick-has-role,\n                        jsx-a11y/no-static-element-interactions\n                    */}\n                    <div className=\"c-product-filter__options\" role=\"presentation\">\n                        {kinds\n                            .filter(({count}) => (count > 0))\n                            .map(({count, label, query, searchKey}) => {\n                                const searchState = {\n                                    ...uiState,\n                                    start: 0,\n                                    filters: {\n                                        ...uiState.filters,\n                                        [ruleset]: searchKey\n                                    }\n                                }\n\n                                return (\n                                    <Button\n                                        key={query}\n                                        className=\"c-product-filter__option pw--link\"\n                                        innerClassName=\"u-justify-start\"\n                                        id={query}\n                                        onClick={() => goToURL(urlMapper.getSearchUrl(searchState), isRunningInAstro)}\n                                        data-analytics-name={UI_NAME.showFilters}\n                                    >\n                                        <span className=\"u-color-brand u-margin-end-sm\">{label}</span> <span className=\"u-color-neutral-40\">({count})</span>\n                                    </Button>\n                                )\n                            }\n                        )}\n                    </div>\n                </AccordionItem>\n            )}\n        </Accordion>\n    )\n}\n\nProductFilter.propTypes = {\n    isRunningInAstro: PropTypes.bool,\n    productSearch: PropTypes.object,\n    uiState: PropTypes.object\n}\n\nconst mapStateToProps = createPropsSelector({\n    isRunningInAstro,\n    productSearch: selectors.getProductSearch,\n    uiState: selectors.getUIState,\n})\n\nexport default connect(mapStateToProps)(ProductFilter)\n","/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n/* Copyright (c) 2018 Mobify Research & Development Inc. All rights reserved. */\n/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux'\nimport {createPropsSelector} from 'reselect-immutable-helpers'\n\nimport {isModalOpen} from 'progressive-web-sdk/dist/store/modals/selectors'\nimport {UI_NAME} from 'progressive-web-sdk/dist/analytics/data-objects/'\n\nimport {PRODUCT_LIST_FILTER_MODAL} from '../constants'\nimport {closeModal, openModal} from '../actions'\n\nimport {HeaderBar, HeaderBarActions, HeaderBarTitle} from 'progressive-web-sdk/dist/components/header-bar'\nimport Sheet from 'progressive-web-sdk/dist/components/sheet'\nimport IconLabelButton from '../../components/icon-label-button'\nimport ProductFilter from '../../components/product-filter'\n\n\nconst FILTER_QUERY = 'filter_is_open'\n\n\nclass ProductListFilterModal extends React.Component {\n    componentDidMount() {\n        if (window.location.search.indexOf(FILTER_QUERY) > 0) {\n            this.props.openModal()\n        }\n    }\n\n    render() {\n        const {closeModal, isOpen, duration} = this.props\n\n        return (\n            <Sheet\n                className=\"m-product-list__filter-modal\"\n                open={isOpen}\n                onDismiss={closeModal}\n                duration={duration}\n                maskOpacity={0.7}\n                effect=\"slide-right\"\n                shrinkToContent={false}\n                coverage=\"85%\"\n            >\n                <HeaderBar>\n                    <HeaderBarTitle className=\"u-flex u-padding-start u-text-align-start\">\n                        <h1 className=\"u-h3 u-text-uppercase\">\n                            <span className=\"u-text-weight-extra-light\">Filter Results By</span>\n                        </h1>\n                    </HeaderBarTitle>\n\n                    <HeaderBarActions>\n                        <IconLabelButton iconName=\"close\" label=\"\" onClick={closeModal} analyticsName={UI_NAME.dismissModal}>Close</IconLabelButton>\n                    </HeaderBarActions>\n                </HeaderBar>\n\n                <ProductFilter />\n\n            </Sheet>\n        )\n    }\n}\n\n\nProductListFilterModal.propTypes = {\n    /**\n     * A function used to set the filter sheet's state to closed\n     */\n    closeModal: PropTypes.func,\n    /**\n     * Duration will define the time the animation takes to complete.\n     */\n    duration: PropTypes.number,\n    /**\n     * Whether the modal is open or not\n     */\n    isOpen: PropTypes.bool,\n    /**\n     * A function used to set the filter sheet's state to open\n     */\n    openModal: PropTypes.func,\n}\n\nconst mapStateToProps = createPropsSelector({\n    isOpen: isModalOpen(PRODUCT_LIST_FILTER_MODAL),\n})\n\nconst mapDispatchToProps = {\n    closeModal: () => closeModal(PRODUCT_LIST_FILTER_MODAL, UI_NAME.filters),\n    openModal: () => openModal(PRODUCT_LIST_FILTER_MODAL, UI_NAME.filters)\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ProductListFilterModal)\n"],"sourceRoot":""}